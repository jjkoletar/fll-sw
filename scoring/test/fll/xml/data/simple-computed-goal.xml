<?xml version="1.0" encoding="UTF-8"?>
<fll title="Simple COmputed Goal" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="fll.xsd">

  <Performance minimumScore="0" weight="1.0">

    <goal initialValue="0" max="1" min="0" multiplier="40" name="pump_station" title="Protect the Pump Station"></goal>

    <goal initialValue="0" max="1" min="0" multiplier="30" name="flags" title="Transect Flags: Any Flags"></goal>

    <goal initialValue="0" max="3" min="0" multiplier="15" name="flags_rows" title="Transect Flags: Number of Rows"></goal>

    <!-- want to know the type of robot, but can't change the score, so set the multiplier to 0 -->
    <goal name="robot_type" title="Robot Type"
      multiplier="0">
      <value score="1" title="RCX" value="rcx"/>
      <value score="2" title="NXT" value="nxt"/>
    </goal>

	<computedGoal name="computed" title="Test computed goal">
	  <case>  <!-- a computed goal is made up of some number of cases -->
	    <condition>  <!-- a case has a condition and a result or another case -->
	      <left>
	        <term goal="robot_type" value="raw_score"/>
	      </left>
	      <equal-to>
	      <right>
	        <string-constant value="RCX"/>
	      </right>
	    </condition>
  	    <case>
	      <condition>
	        <left> <!-- generalize the equation information from restriction, or just use a sequence of terms -->
	          <term goal="pump_station" value="computed_score"/> <!-- need to add value attribute (maybe needs better name).  Determines if the raw value should be used or the computed score for that goal.  Default is "raw". -->
	          <term goal="flags" value="computed_score"/>
	          <term goal="flags_rows" value="computed_score"/>
	        </left>
	        <less-than/> <!-- any inequality -->
	        <right>
	          <constant value="300"/>
	        </right>
	      </condition>
	      <result>
	        <term goal="pump_station" value="computed_score"/>
	        <term goal="flags" value="computed_score"/>
	        <term goal="flags_rows" value="computed_score"/>
	        <constant value="60"/>
	      </result>
	    </case>
	    <default> <!-- default case is required, the default just has a result -->
	      <result>
	        <term coefficient="240"/> <!-- need to change term definition to allow no goal -->
	        <term coefficient="0.4" goal="pump_station" value="score"/> <!-- need to add value attribute (maybe needs better name).  Determines if the raw value should be used or the computed score for that goal.  Default is "raw". -->
	        <term coefficient="0.4" goal="flags" value="score"/>
	        <term coefficient="0.4" goal="flags_rows" value="score"/>
          </result>
        </default>	      
      </case>
      <default>
        <result>
          <constant value="0"/>
        </result>
      </default>
	</computedGoal>
    
    <tiebreaker>
      <test winner="high">
        <term goal="flags_rows" />
      </test> 
      <test winner="high">
        <term goal="flags" />
      </test> 
      <test winner="high">
        <term goal="pump_station" />
      </test> 
    </tiebreaker>

  </Performance>

  <subjectiveCategory name="teamwork" title="Teamwork" weight="1.0">
    <goal initialValue="0" max="20" min="1" multiplier="1" name="roles" title="Roles and Responsibilities"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="professionalism" title="Gracious Professionalism"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="dynamics" title="Problem Solving &amp; Team Dynamics &amp; Communications"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="confidence" title="Confidence &amp; Enthusiasm"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="fll_values" title="FLL Values"></goal>
  </subjectiveCategory>

  
  <subjectiveCategory name="robustdesign" title="Robust Design" weight="0.5">
    <goal initialValue="0" max="20" min="1" multiplier="1" name="strategy" title="Strategy, Process, Problem Solving"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="locomotion" title="Locomotion and Navigation"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="design_kids" title="Kids Did the Work"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="structural" title="Structural"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="overall_design" title="Overall Design"></goal>
  </subjectiveCategory>


  <subjectiveCategory name="programming" title="Robust Programming" weight="0.5">
    <goal initialValue="0" max="20" min="1" multiplier="1" name="useoflanguage" title="Use of Language"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="modularity" title="Modularity/Abstraction"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="sensorcontrol" title="Sensor Control"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="design" title="Design"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="programming_kids" title="Kids Did the Work"></goal>
  </subjectiveCategory>

  <subjectiveCategory name="research" title="Research Project Assessment" weight="1.0">
    <goal initialValue="0" max="20" min="1" multiplier="1" name="questions" title="Questions, Language Use"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="completeness" title="Completeness, Teamwork"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="background" title="Background, Data, and Graphics"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="analysis" title="Analysis and Conclusions"></goal>
    <goal initialValue="0" max="20" min="1" multiplier="1" name="style" title="Style"></goal>
  </subjectiveCategory>

  
</fll>
