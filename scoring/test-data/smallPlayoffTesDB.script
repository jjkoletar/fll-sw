CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE SUMMARIZEDSCORES(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,CATEGORY VARCHAR(32) NOT NULL,RAWSCORE FLOAT DEFAULT NULL,STANDARDIZEDSCORE FLOAT DEFAULT NULL,SCOREGROUP LONGVARCHAR DEFAULT NULL,WEIGHTEDSCORE FLOAT DEFAULT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT,CATEGORY))
CREATE MEMORY TABLE ALLTEAMS(TEAM_NUMBER LONGVARCHAR,DIVISION LONGVARCHAR,ORGANIZATION LONGVARCHAR,TEAM_NAME LONGVARCHAR,CITY LONGVARCHAR,REGION LONGVARCHAR)
CREATE MEMORY TABLE FILTEREDTEAMS(TEAM_NUMBER LONGVARCHAR,DIVISION LONGVARCHAR,ORGANIZATION LONGVARCHAR,TEAM_NAME LONGVARCHAR,CITY LONGVARCHAR,REGION LONGVARCHAR)
CREATE MEMORY TABLE TOURNAMENTS(NAME VARCHAR(128) NOT NULL PRIMARY KEY,LOCATION LONGVARCHAR,NEXTTOURNAMENT VARCHAR(128) DEFAULT NULL)
CREATE MEMORY TABLE PLAYOFFDATA(DIVISION VARCHAR(32) NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,PLAYOFFROUND INTEGER NOT NULL,LINENUMBER INTEGER NOT NULL,TEAM INTEGER DEFAULT -3,ASSIGNEDTABLE VARCHAR(64) DEFAULT NULL,PRINTED BOOLEAN DEFAULT false,PRIMARY KEY(DIVISION,TOURNAMENT,PLAYOFFROUND,LINENUMBER))
CREATE MEMORY TABLE TEAMS(TEAMNUMBER INTEGER NOT NULL PRIMARY KEY,TEAMNAME VARCHAR(255) DEFAULT '<No Name>' NOT NULL,ORGANIZATION VARCHAR(255),DIVISION VARCHAR(32) DEFAULT '1' NOT NULL,REGION VARCHAR(255) DEFAULT 'DUMMY' NOT NULL)
CREATE MEMORY TABLE TOURNAMENTTEAMS(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,ADVANCED BOOLEAN DEFAULT false NOT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT))
CREATE MEMORY TABLE TOURNAMENTPARAMETERS(PARAM VARCHAR(64) NOT NULL PRIMARY KEY,VALUE LONGVARCHAR NOT NULL,DESCRIPTION VARCHAR(255) DEFAULT NULL)
CREATE MEMORY TABLE JUDGES(ID VARCHAR(64) NOT NULL,CATEGORY VARCHAR(64) NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,DIVISION VARCHAR(32) NOT NULL,PRIMARY KEY(ID,CATEGORY,TOURNAMENT,DIVISION))
CREATE MEMORY TABLE TABLENAMES(TOURNAMENT VARCHAR(64) NOT NULL,SIDEA VARCHAR(64) NOT NULL,SIDEB VARCHAR(64) NOT NULL,PRIMARY KEY(TOURNAMENT,SIDEA,SIDEB))
CREATE MEMORY TABLE PERFORMANCE(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,RUNNUMBER INTEGER NOT NULL,TIMESTAMP TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,NOSHOW BOOLEAN DEFAULT false NOT NULL,BYE BOOLEAN DEFAULT false NOT NULL,PUMP_STATION INTEGER,FLAGS INTEGER,FLAGS_ROWS INTEGER,ARCHAEOLOGICAL LONGVARCHAR,DOLPHIN INTEGER,SAMPLE_SPECIES INTEGER,SUBMARINE LONGVARCHAR,ARTIFICAL_REEF INTEGER,PIPELINE INTEGER,SHIPPING_CONTAINER INTEGER,CRATES_BASE INTEGER,CRATES INTEGER,COMPUTEDTOTAL INTEGER DEFAULT NULL,STANDARDIZEDSCORE FLOAT DEFAULT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT,RUNNUMBER))
CREATE MEMORY TABLE TEAMWORK(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,JUDGE VARCHAR(64) NOT NULL,NOSHOW BOOLEAN DEFAULT false NOT NULL,ROLES INTEGER,PROFESSIONALISM INTEGER,DYNAMICS INTEGER,CONFIDENCE INTEGER,FLL_VALUES INTEGER,COMPUTEDTOTAL INTEGER DEFAULT NULL,STANDARDIZEDSCORE FLOAT DEFAULT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT,JUDGE))
CREATE MEMORY TABLE ROBUSTDESIGN(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,JUDGE VARCHAR(64) NOT NULL,NOSHOW BOOLEAN DEFAULT false NOT NULL,STRATEGY INTEGER,LOCOMOTION INTEGER,DESIGN_KIDS INTEGER,STRUCTURAL INTEGER,OVERALL_DESIGN INTEGER,COMPUTEDTOTAL INTEGER DEFAULT NULL,STANDARDIZEDSCORE FLOAT DEFAULT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT,JUDGE))
CREATE MEMORY TABLE PROGRAMMING(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,JUDGE VARCHAR(64) NOT NULL,NOSHOW BOOLEAN DEFAULT false NOT NULL,USEOFLANGUAGE INTEGER,MODULARITY INTEGER,SENSORCONTROL INTEGER,DESIGN INTEGER,PROGRAMMING_KIDS INTEGER,COMPUTEDTOTAL INTEGER DEFAULT NULL,STANDARDIZEDSCORE FLOAT DEFAULT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT,JUDGE))
CREATE MEMORY TABLE RESEARCH(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,JUDGE VARCHAR(64) NOT NULL,NOSHOW BOOLEAN DEFAULT false NOT NULL,QUESTIONS INTEGER,COMPLETENESS INTEGER,BACKGROUND INTEGER,ANALYSIS INTEGER,STYLE INTEGER,COMPUTEDTOTAL INTEGER DEFAULT NULL,STANDARDIZEDSCORE FLOAT DEFAULT NULL,PRIMARY KEY(TEAMNUMBER,TOURNAMENT,JUDGE))
CREATE MEMORY TABLE FINALSCORES(TEAMNUMBER INTEGER NOT NULL,TOURNAMENT VARCHAR(128) NOT NULL,TEAMWORK FLOAT DEFAULT NULL,ROBUSTDESIGN FLOAT DEFAULT NULL,PROGRAMMING FLOAT DEFAULT NULL,RESEARCH FLOAT DEFAULT NULL,PERFORMANCE FLOAT DEFAULT NULL,OVERALLSCORE FLOAT,PRIMARY KEY(TEAMNUMBER,TOURNAMENT))
CREATE VIEW PERFORMANCE_SEEDING_MAX (TEAMNUMBER,TOURNAMENT,SCORE) AS SELECT TeamNumber, Tournament, Max(ComputedTotal) As Score FROM Performance WHERE NoShow = 0 AND RunNumber <= (SELECT Value FROM TournamentParameters WHERE TournamentParameters.Param = 'SeedingRounds') GROUP BY TeamNumber, Tournament
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 100 MILLIS
SET SCHEMA PUBLIC
INSERT INTO ALLTEAMS VALUES('1','DivII/Gr7-9','Moundsview High School','Chicks in the Sea','Moundsview','Test')
INSERT INTO ALLTEAMS VALUES('2','DivII/Gr7-9','Northdale Middle School','Minions of Neptune','Spring Lake Park','Test')
INSERT INTO ALLTEAMS VALUES('3','DivII/Gr7-9','Ordean Middle School','Lakers White','Duluth','Test')
INSERT INTO ALLTEAMS VALUES('4','DivII/Gr7-9','Ordean Middle School','Lakers Red','Duluth','Test')
INSERT INTO ALLTEAMS VALUES('5','DivII/Gr7-9','Ramsey School','ControlAltDelete','Minneapolis','Test')
INSERT INTO ALLTEAMS VALUES('6','DivII/Gr7-9','Robbinsdale Area Schools','TechnoPenguins','Robbinsdale','Test')
INSERT INTO ALLTEAMS VALUES('7','DivII/Gr7-9','Sandburg Middle School','The Swabbies','Robbinsdale','Test')
INSERT INTO ALLTEAMS VALUES('8','DivII/Gr7-9','Seward Montesori','Made in China','Minneapolis','Test')
INSERT INTO ALLTEAMS VALUES('9','DivII/Gr7-9','LHS','Blackhawks','Lamberton','Test')
INSERT INTO ALLTEAMS VALUES('10','DivII/Gr7-9','SHS','Tigers','Springfield','Test')
INSERT INTO ALLTEAMS VALUES('11','DivII/Gr7-9','WGHS','Kittens','Walnut Grove','Test')
INSERT INTO ALLTEAMS VALUES('12','DivII/Gr7-9','THS','The Plan','Tracy','Test')
INSERT INTO ALLTEAMS VALUES('13','DivII/Gr7-9','MHS','Mardi Gras','Marshall','Test')
INSERT INTO ALLTEAMS VALUES('14','DivII/Gr7-9','WHS','Winners','Windom','Test')
INSERT INTO ALLTEAMS VALUES('15','DivII/Gr7-9','WHS2','Worthers','Worthington','Test')
INSERT INTO ALLTEAMS VALUES('17','DivII/Gr7-9','Valve','Freeman','City 17','Test')
INSERT INTO ALLTEAMS VALUES('18','DivII/Gr7-9','SHSP','Panthers','Sanborn','Test')
INSERT INTO ALLTEAMS VALUES('19','DivII/Gr7-9','JHS','Falcons','Jeffers','Test')
INSERT INTO FILTEREDTEAMS VALUES('1','DivII/Gr7-9','Moundsview High School','Chicks in the Sea','Moundsview','Test')
INSERT INTO FILTEREDTEAMS VALUES('2','DivII/Gr7-9','Northdale Middle School','Minions of Neptune','Spring Lake Park','Test')
INSERT INTO FILTEREDTEAMS VALUES('3','DivII/Gr7-9','Ordean Middle School','Lakers White','Duluth','Test')
INSERT INTO FILTEREDTEAMS VALUES('4','DivII/Gr7-9','Ordean Middle School','Lakers Red','Duluth','Test')
INSERT INTO FILTEREDTEAMS VALUES('5','DivII/Gr7-9','Ramsey School','ControlAltDelete','Minneapolis','Test')
INSERT INTO FILTEREDTEAMS VALUES('6','DivII/Gr7-9','Robbinsdale Area Schools','TechnoPenguins','Robbinsdale','Test')
INSERT INTO FILTEREDTEAMS VALUES('7','DivII/Gr7-9','Sandburg Middle School','The Swabbies','Robbinsdale','Test')
INSERT INTO FILTEREDTEAMS VALUES('8','DivII/Gr7-9','Seward Montesori','Made in China','Minneapolis','Test')
INSERT INTO FILTEREDTEAMS VALUES('9','DivII/Gr7-9','LHS','Blackhawks','Lamberton','Test')
INSERT INTO FILTEREDTEAMS VALUES('10','DivII/Gr7-9','SHS','Tigers','Springfield','Test')
INSERT INTO FILTEREDTEAMS VALUES('11','DivII/Gr7-9','WGHS','Kittens','Walnut Grove','Test')
INSERT INTO FILTEREDTEAMS VALUES('12','DivII/Gr7-9','THS','The Plan','Tracy','Test')
INSERT INTO FILTEREDTEAMS VALUES('13','DivII/Gr7-9','MHS','Mardi Gras','Marshall','Test')
INSERT INTO FILTEREDTEAMS VALUES('14','DivII/Gr7-9','WHS','Winners','Windom','Test')
INSERT INTO FILTEREDTEAMS VALUES('15','DivII/Gr7-9','WHS2','Worthers','Worthington','Test')
INSERT INTO FILTEREDTEAMS VALUES('17','DivII/Gr7-9','Valve','Freeman','City 17','Test')
INSERT INTO FILTEREDTEAMS VALUES('18','DivII/Gr7-9','SHSP','Panthers','Sanborn','Test')
INSERT INTO FILTEREDTEAMS VALUES('19','DivII/Gr7-9','JHS','Falcons','Jeffers','Test')
INSERT INTO TOURNAMENTS VALUES('DROP','Dummy tournament for teams that drop out',NULL)
INSERT INTO TOURNAMENTS VALUES('DUMMY','Default dummy tournament',NULL)
INSERT INTO TOURNAMENTPARAMETERS VALUES('ChallengeDocument','<?xml version="1.0" encoding="UTF-8"?>\u000d\u000a<fll title="FLL 2005 Challenge: Ocean Odyssey" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="fll.xsd">\u000a\u000a  <Performance minimumScore="0" weight="1.0">\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="40" name="pump_station" title="Protect the Pump Station"></goal>\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="30" name="flags" title="Transect Flags: Any Flags"></goal>\u000a\u000a    <goal initialValue="0" max="3" min="0" multiplier="15" name="flags_rows" title="Transect Flags: Number of Rows"></goal>\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="1" name="archaeological" title="Archaeological Artifacts">\u000a      <value score="35" title="In Base" value="in_base"></value>\u000a      <value score="25" title="Off Ship" value="off_ship"></value>\u000a      <value score="0" title="No" value="no"></value>\u000a    </goal>\u000a      \u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="25" name="dolphin" title="Release Dolphin"></goal>\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="35" name="sample_species" title="Sample Species (Grey Fish Only)"></goal>\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="1" name="submarine" title="Deploy The Submarine">\u000a      <value score="40" title="Yes Upright" value="upright"></value>\u000a      <value score="35" title="Yes Not Upright" value="yes"></value>\u000a      <value score="0" title="No" value="no"></value>\u000a    </goal>\u000a      \u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="40" name="artifical_reef" title="Artifical Reef"></goal>\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="40" name="pipeline" title="Service The Pipeline"></goal>\u000a\u000a    <goal initialValue="0" max="1" min="0" multiplier="30" name="shipping_container" title="Shipping Container at Base"></goal>\u000a\u000a    <goal initialValue="0" max="8" min="0" multiplier="5" name="crates_base" title="Crates in Base"></goal>\u000a\u000a    <goal initialValue="0" max="8" min="0" multiplier="2" name="crates" title="Crates Elsewhere on Table"></goal>\u000a    \u000a    <restriction lowerBound="0" message="There are a maximum of 8 crates on the table" upperBound="8">\u000a      <term coefficient="1" goal="crates_base"></term>\u000a      <term coefficient="1" goal="crates"></term>\u000a    </restriction>\u000a\u000a    <tiebreaker>\u000a      <test winner="high"><term coefficient="1" goal="crates_base"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="crates"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="dolphin"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="flags_rows"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="flags"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="submarine"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="archaeological"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="shipping_container"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="pump_station"></term></test> \u000a      <test winner="high"><term coefficient="1" goal="pipeline"></term></test>\u000a      <test winner="high"><term coefficient="1" goal="sample_species"></term></test>\u000a      <test winner="high"><term coefficient="1" goal="artifical_reef"></term></test>\u000a    </tiebreaker>\u000a\u000a  </Performance>\u000a\u000a  <subjectiveCategory name="teamwork" title="Teamwork" weight="1.0">\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="roles" title="Roles and Responsibilities"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="professionalism" title="Gracious Professionalism"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="dynamics" title="Problem Solving &amp; Team Dynamics &amp; Communications"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="confidence" title="Confidence &amp; Enthusiasm"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="fll_values" title="FLL Values"></goal>\u000a  </subjectiveCategory>\u000a\u000a  \u000a  <subjectiveCategory name="robustdesign" title="Robust Design" weight="0.5">\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="strategy" title="Strategy, Process, Problem Solving"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="locomotion" title="Locomotion and Navigation"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="design_kids" title="Kids Did the Work"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="structural" title="Structural"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="overall_design" title="Overall Design"></goal>\u000a  </subjectiveCategory>\u000a\u000a\u000a  <subjectiveCategory name="programming" title="Robust Programming" weight="0.5">\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="useoflanguage" title="Use of Language"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="modularity" title="Modularity/Abstraction"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="sensorcontrol" title="Sensor Control"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="design" title="Design"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="programming_kids" title="Kids Did the Work"></goal>\u000a  </subjectiveCategory>\u000a\u000a  <subjectiveCategory name="research" title="Research Project Assessment" weight="1.0">\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="questions" title="Questions, Language Use"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="completeness" title="Completeness, Teamwork"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="background" title="Background, Data, and Graphics"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="analysis" title="Analysis and Conclusions"></goal>\u000a    <goal initialValue="0" max="20" min="1" multiplier="1" name="style" title="Style"></goal>\u000a  </subjectiveCategory>\u000a\u000a  \u000a</fll>','The XML document describing the challenge')
INSERT INTO TOURNAMENTPARAMETERS VALUES('CurrentTournament','DUMMY','This is the currently running tournament name - see Tournaments table')
INSERT INTO TOURNAMENTPARAMETERS VALUES('SeedingRounds','3','Number of seeding rounds before elimination round - used to downselect top performance scores in queries')
INSERT INTO TOURNAMENTPARAMETERS VALUES('StandardizedMean','100','Standard mean for computing the standardized scores')
INSERT INTO TOURNAMENTPARAMETERS VALUES('StandardizedSigma','20','Standard deviation for computing the standardized scores')
